{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)d2f6cebc-56ae-4c87-b9a5-be0853020542","ParentGuid":"(Guid)1772d9ee-1e44-4cf5-8acc-7a30a562c513","Name":"(string)Task_Calibrate","Properties":{"@Type":"2c41fa04:IDictionary","@Value":[{"@Key":"(Guid)829a18f2-c514-4f6e-9634-1df173429203","@Value":{"@Type":"829a18f2","@Value":{"ParentObjects":{"@Type":"fa2ee218:IDictionary","@Value":[{"@Key":"(Guid)21af5390-2942-461a-bf89-951aaf6999f1","@Value":"(Guid)815a65b0-ae33-499b-a4e3-6d784fa34f74"}]}}}}]},"TypeGuid":"(Guid)f8a58466-d7f6-439f-bbb8-d4600e41d099","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)a9ed5b7e-75c5-4651-af16-d2c27e98cb94","(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","829a18f2":"{829a18f2-c514-4f6e-9634-1df173429203}","fa2ee218":"{fa2ee218-a39b-4b6d-b249-49dbddbd168a}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"f8a58466","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)IF Local_Task<>eTempered_Task.Calibrate THEN\n\tLocal_Task:=eTempered_Task.Calibrate;\n\tLocal_Status:=eTempered_Status.Prepare_Standby;\n\tHW_PID.FF:=0;\n\tCW_PID.FF:=0;\n\tON_Target:=FALSE;\n\tConfig_Data.Max_Flow:=0;\n\tCalibration_Temp:=Temperature;\n\tTemperature_PID.PLC_Target:=Temperature.Target;\n\tCalibration_temp.Alarm_Window:=Temperature.Alarm_Window/2;\n\tCalibration_Temp.Warn_Window:=Temperature.Warn_Window/2;\n\tAlarm_Window_Convert(\tWindow:=Calibration_Temp,\tConfig:=Combined_Temp.Alarm_Config);\n\t//Combined_Temp.Alarm_Config:=Alarm_window_Convert(Calibration_Temp);\n\tTask_Ton.PT:=T#5S;\n\t\nEND_IF;\n\nAUX();\nAlarms();\nMath();\nPID_CTRL();\nACV_CTRL();\n\nTask_Ton();\n\nConfig_Data.Base_Flow:=Rate.Target;\nIF Temperature_PID.PLC_Enable THEN\n\tConfig_Data.Target_Temperature:= Temperature_PID.CV;\nELSE\n\tConfig_Data.Target_Temperature:= Temperature_PID.PLC_Target;\nEND_IF;\n\nConfig_Data.Target_Volume:=9999;\n\nHW_FIT.Rate.Alarm_Config.Setpoints.Hi_Hi_Alarm\t:=Config_Data.HW_Target_Flow+Rate.Alarm_Window;\nHW_FIT.Rate.Alarm_Config.Setpoints.Hi_Warn\t\t:=Config_Data.HW_Target_Flow+Rate.Warn_Window;\nHW_FIT.Rate.Alarm_Config.Setpoints.Low_warn\t\t:=Config_Data.HW_Target_Flow-Rate.Warn_Window;\nHW_FIT.Rate.Alarm_Config.Setpoints.Low_Low_Alarm\t\t:=Config_Data.HW_Target_Flow-Rate.Alarm_Window;\nHW_FIT.Rate.Alarm_Config.Setpoints.Alarm_Debounce\t\t\t:=Rate.Alarm_Delay;\nHW_Fit.Rate.Alarm_Config.Silence:=NOT(HW_PID.PLC_Enable);\n\nCW_FIT.Rate.Alarm_Config.Setpoints.Hi_Hi_Alarm\t:=Config_Data.CW_Target_Flow+Rate.Alarm_Window;\nCW_FIT.Rate.Alarm_Config.Setpoints.Hi_Warn\t\t:=Config_Data.CW_Target_Flow+Rate.Warn_Window;\nCW_FIT.Rate.Alarm_Config.Setpoints.Low_warn\t\t:=Config_Data.CW_Target_Flow-Rate.Warn_Window;\nCW_FIT.Rate.Alarm_Config.Setpoints.Low_Low_Alarm\t\t:=Config_Data.CW_Target_Flow-Rate.Alarm_Window;\nCW_FIT.Rate.Alarm_Config.Setpoints.Alarm_Debounce\t\t\t:=Rate.Alarm_Delay;\nCW_Fit.Rate.Alarm_Config.Silence:=NOT(CW_PID.PLC_Enable);\n\nCombined_temp.Alarm_Config.Setpoints.Alarm_Debounce:=0;\n\n\n\nConfig_data.Status.eStatus:=Status_Test(Local_Status);\n\n\nPerformance_Check();\n\nTemp_index:=LIMIT(20,TO_INT(Unit_Convert(eFrom:=Temperature_Units,eTO:=eUnits.C,Source:= Temperature.Target)),60);\nFlow_index:=LIMIT(10,TO_INT(Unit_Convert(eFrom:=Flow_units,eTo:=Eunits.lpm,Source:= CW_FIT.Rate.EU+HW_FIT.Rate.EU)),60);\n\nCASE Config_Data.Status.eStatus OF\n\n\teTempered_Status.Prepare_Standby:\n\t\tConfig_Data.Base_Flow:=Rate.Target;\n\t\t\n\t\tON_Target:=FALSE;\n\t\tIF Config_Data.Flow_Rate>(Rate.Target*0.5) THEN\n\t\t\tLocal_Status:=eTempered_Status.Prepare_Active;\n\t\tEND_IF;\n\teTempered_Status.Prepare_Active:\n\t\tIF Prepare_TON.Q THEN\n\t\t\tLocal_Status:=eTempered_Status.Prepare_Complete;\n\t\tEND_IF;\n\teTempered_status.Prepare_Complete:\n\t\tTask_Calibrate:=On_Target;\nEND_CASE;\nPrepare_TON(PT:=T#10S,IN:=(Config_data.Temperature_OK AND Config_Data.HW_Flow_OK AND Config_data.CW_Flow_OK));\n\nIF CW1_ACV.Valve_Actual>95 AND  CW2_ACV.Valve_Actual>95 AND  HW1_ACV.Valve_Actual>95 AND  HW2_ACV.Valve_Actual>95 AND On_Target=FALSE  THEN\n\n\tLocal_Status:=eTempered_Status.Prepare_Complete;\nEND_IF;\nIF Config_Data.Flow_Rate>Config_Data.Max_Flow THEN\n\t\tConfig_Data.Max_Flow:=Config_Data.Flow_Rate;\nEND_IF\n\n\tStore_Calibration();\n\n\n\n\n","LineInfoPersistence":"(string)d2f6cebc-56ae-4c87-b9a5-be0853020542_Impl_LineIds"}}}},"Interface":{"@Type":"a9ed5b7e","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)METHOD Task_Calibrate : BOOL\nVAR_INPUT\n\tRate:cAlarm_Window;\n\tTemperature:cAlarm_Window;\nEND_VAR\n\nVAR\n\nEND_VAR","LineInfoPersistence":"(string)d2f6cebc-56ae-4c87-b9a5-be0853020542_Decl_LineIds"}}}}}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","a9ed5b7e":"{a9ed5b7e-75c5-4651-af16-d2c27e98cb94}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","f8a58466":"{f8a58466-d7f6-439f-bbb8-d4600e41d099}","string":"System.String"}}},"FormatVersion":"1.0"}