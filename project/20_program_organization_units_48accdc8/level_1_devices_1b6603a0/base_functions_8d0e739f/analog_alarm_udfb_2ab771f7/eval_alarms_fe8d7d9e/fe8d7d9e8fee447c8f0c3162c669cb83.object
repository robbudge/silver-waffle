{"payload":{"meta":{"Graph":{"@Type":"81297157","@Value":{"Guid":"(Guid)fe8d7d9e-8fee-447c-8f0c-3162c669cb83","ParentGuid":"(Guid)2ab771f7-6ee6-49e5-b832-557b8c3f7d3d","Name":"(string)eval_Alarms","Properties":{"@Type":"2c41fa04:IDictionary","@Value":{}},"TypeGuid":"(Guid)8ac092e5-3128-4e26-9e7e-11016c6684f2","EmbeddedTypeGuids":{"@Type":"[Guid]","@Value":["(Guid)3b83b776-fb25-43b8-99f2-3c507c9143fc"]}}},"TypeInfos":{"2c41fa04":"{2c41fa04-1834-41c1-816e-303c7aa2c05b}","81297157":"{81297157-7ec9-45ce-845e-84cab2b88ade}","Guid":"System.Guid","string":"System.String"}},"object":{"Graph":{"@Type":"8ac092e5","@Value":{"Implementation":{"@Type":"3b83b776","@Value":{"TextDocument":{"@Type":"f3878285","@Value":{"TextBlobForSerialisation":"(string)IF Config.Setpoints.Hi_Warn>Config.Setpoints.Hi_Hi_Alarm THEN\tConfig.Setpoints.Hi_Warn:=Config.Setpoints.Hi_Hi_Alarm; END_IF;\nIF Config.Setpoints.Hi_Norm>Config.Setpoints.Hi_Warn THEN\tConfig.Setpoints.Hi_Norm:=Config.Setpoints.Hi_Warn; END_IF;\n\nIF Config.Setpoints.Low_warn< Config.Setpoints.Low_Low_Alarm THEN\tConfig.Setpoints.Low_warn:=Config.Setpoints.Low_Low_Alarm; END_IF;\nIF Config.Setpoints.Low_Norm< Config.Setpoints.Low_warn THEN\tConfig.Setpoints.Low_Norm:=Config.Setpoints.Low_warn; END_IF;\n\n///Config.Setpoints.Low_warn:=LIMT(\n\n\n\ntmp := eu - (Config.Setpoints.Hysteresis*0.5);\nIF eu < (Config.Setpoints.Low_Low_Alarm - (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTHEN  \tPending_Status:=eSensor_Status.Low_Low_Alarm;\t\tEND_IF;\t\t//0  Low Low\nIF eu > (Config.Setpoints.Low_Low_Alarm - (Config.Setpoints.Hysteresis*0.5))\tAND eu < (Config.Setpoints.Low_warn + (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\tTHEN  Pending_Status:=eSensor_Status.Low_Warning;\t\t\tEND_IF;\t\t//1 Low\nIF eu > (Config.Setpoints.Low_warn - (Config.Setpoints.Hysteresis*0.5)) \t\tAND eu < (Config.Setpoints.Low_Norm + (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\tTHEN Pending_Status:=eSensor_Status.Low_Norm;\t\t\tEND_IF;\t\t//2 Low Norm\n\nIF eu > (Config.Setpoints.Low_Norm - (Config.Setpoints.Hysteresis*0.5)) \t\tAND eu <(Config.Setpoints.Hi_Norm + (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\t\tTHEN  Pending_Status:=eSensor_Status.OK;\t\t\t\tEND_IF;\t\t//OK\n\nIF eu > (Config.Setpoints.Hi_Norm - (Config.Setpoints.Hysteresis*0.5)) \t\tAND eu <(Config.Setpoints.Hi_Warn + (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\t\t\tTHEN  Pending_Status:=eSensor_Status.High_Norm;\t\t\tEND_IF;\t\t//Hi Norm\nIF eu > (Config.Setpoints.Hi_Warn - (Config.Setpoints.Hysteresis*0.5)) \t\tAND eu <(Config.Setpoints.Hi_Hi_Alarm + (Config.Setpoints.Hysteresis*0.5))\t\t\t\t\t\tTHEN Pending_Status:=eSensor_Status.High_Warning;\t\tEND_IF;\t\t//Hi Wanr\nIF eu > Config.Setpoints.Hi_Hi_Alarm \t\t\t\tTHEN  Pending_Status:=eSensor_Status.HiHi_Alarm;\t\tEND_IF;\t\t//6\n\n\n\nConfig.Pending_Mask:=0;\nCASE Pending_Status OF\n\teSensor_Status.Low_Low_Alarm:\t\n\t\tConfig.Pending_Mask.0:=TRUE;\n\t\tConfig.Pending_Mask.1:=NOT(Alarm_Ton.Q);\n\t\tIF Alarm_ton.Q AND NOT(Config.Disable_Mask.0) THEN Config.Active_Mask:=1; END_IF;\n\t\tIF Warn_ton.Q AND NOT(Config.Disable_Mask.1) THEN Config.Active_Mask:=2; END_IF;\n\teSensor_Status.Low_Warning:\t\t\n\t\tConfig.Pending_Mask.1:=TRUE;\n\t\tConfig.Pending_Mask.2:=TRUE;\n\t\tIF Warn_ton.Q AND NOT(Config.Disable_Mask.1) THEN Config.Active_Mask:=2; END_IF;\n\teSensor_Status.Low_Norm:\t\t\n\t\tConfig.Pending_Mask.2:=TRUE;\n\t\tIF NOT(Config.Disable_Mask.2) THEN Config.Active_Mask:=4; END_IF;\n\teSensor_Status.OK:\t\t\t\t\n\t\tConfig.Pending_Mask.3:=TRUE;\n\t\tIF NOT(Config.Disable_Mask.3) THEN Config.Active_Mask:=8; END_IF;\n\teSensor_Status.High_Norm:\t\t\n\t\tConfig.Pending_Mask.4:=TRUE;\n\t\tIF NOT(Config.Disable_Mask.4) THEN Config.Active_Mask:=16; END_IF;\n\teSensor_Status.High_Warning:\n\t\tConfig.Pending_Mask.4:=TRUE;\t\n\t\tConfig.Pending_Mask.5:=TRUE;\n\t\tIF Warn_ton.Q AND NOT(Config.Disable_Mask.5) THEN Config.Active_Mask:=32; END_IF;\n\teSensor_Status.HiHi_Alarm:\n\t\tConfig.Pending_Mask.5:=NOT(Alarm_Ton.Q);\t\n\t\tConfig.Pending_Mask.6:=TRUE;\n\t\tIF Warn_ton.Q AND NOT(Config.Disable_Mask.5) THEN Config.Active_Mask:=32; END_IF;\n\t\tIF Alarm_ton.Q AND NOT(Config.Disable_Mask.6) THEN Config.Active_Mask:=64; END_IF;\t\nEND_CASE\n\nAlarm_Ton(in:=(Pending_Status=eSensor_Status.Low_Low_Alarm OR Pending_Status=eSensor_Status.HiHi_Alarm) AND \n\t\t\t\t( NOT(Config.Silence) OR Debounce_Active), \n\t\t\tPT:=TO_TIME(Config.Setpoints.Alarm_Debounce)*1000);\n\nWarn_Ton(in:=(\n\t\t\t\tPending_Status=eSensor_Status.Low_Warning OR \n\t\t\t\tPending_Status=eSensor_Status.High_Warning OR \n\t\t\t\t(Alarm_Ton.IN AND NOT(Alarm_ton.Q))\n\t\t\t) AND \n\t\t\t\t( NOT(Config.Silence) OR Debounce_Active)\n\t\t\t, \n\t\t\tPT:=TO_TIME(Config.Setpoints.Warn_Debounce)*1000\n\t);\n\n\n\n\nIF Config.Silence THEN\n\tConfig.Active_Mask:=8;\n\tStatus:=eSensor_Status.Alarms_Disabled; \nELSE\n\tCASE Config.Active_Mask OF\n\t\t1: \tStatus:=eSensor_Status.Low_Low_Alarm;\n\t\t\tConfig.Within_Norms:=FALSE;\n\t\t2:\tStatus:=eSensor_Status.Low_Warning;\n\t\t\tConfig.Within_Norms:=FALSE;\n\t\t4:\tStatus:=eSensor_Status.low_Norm;\n\t\t\tConfig.Within_Norms:=TRUE;\n\t\t8:\tStatus:=eSensor_Status.OK;\n\t\t\tConfig.Within_Norms:=TRUE;\n\t\t16:\tStatus:=Status:=eSensor_Status.High_Norm;\n\t\t\tConfig.Within_Norms:=TRUE;\n\t\t32:\tStatus:=eSensor_Status.High_Warning;\n\t\t\tConfig.Within_Norms:=FALSE;\n\t\t64:\tStatus:=eSensor_Status.HiHi_Alarm;\n\t\t\tConfig.Within_Norms:=FALSE;\n\tEND_CASE\nEND_IF;\n\nIF Config.Setpoints.Warn_Debounce>0 THEN\n\tConfig.Warn_Active_PCT:=TO_UINT(\t(TO_REAL(Warn_ton.ET)/TO_REAL(Warn_ton.PT))*100);\nELSE\n\tConfig.Warn_Active_PCT:=100;\nEND_IF;\nIF Config.Setpoints.Alarm_Debounce>0 THEN\n\tConfig.Alarm_Active_PCT:=TO_UINT(\t(TO_REAL(Alarm_ton.ET)/TO_REAL(Alarm_ton.PT))*100);\nELSE\n\tConfig.Alarm_Active_PCT:=100;\nEND_IF;\n\n\n//Config.Within_Norms:","LineInfoPersistence":"(string)fe8d7d9e-8fee-447c-8f0c-3162c669cb83_Impl_LineIds"}}}},"UniqueIdGenerator":"(string)182"}},"TypeInfos":{"3b83b776":"{3b83b776-fb25-43b8-99f2-3c507c9143fc}","8ac092e5":"{8ac092e5-3128-4e26-9e7e-11016c6684f2}","f3878285":"{f3878285-8e4f-490b-bb1b-9acbb7eb04db}","string":"System.String"}}},"FormatVersion":"1.0"}